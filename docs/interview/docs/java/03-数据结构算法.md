# 03-数据结构算法

### 1.红黑树和二叉树

​	资料：https://juejin.im/post/5a27c6946fb9a04509096248
​	释义：都是一种用于存储数据，利于数据查找的树结构。
​	**二叉树：**二叉树结构每个树节点最多有两个叉，左边放小于父节点的数，右边放大于父节点的数。
​			查找时候：根据规则从根节点开始查找，查找最大次数等于二叉树高度
​			插入时候：从根节点一层层比较，找到适合插入的位置
​			有缺陷，连续插入的一组比较特殊数据，造成二叉树结构不平衡（有的叉特别长，有的特别短），解决方式：红黑树

​	**红黑树：**自平衡的二叉树，解决多次插入特殊节点导致的数据不平衡情况，自平衡两种方式：变色和旋转。根据其规则对树结构进行调整。
​			结构：根节点是黑色节点，叶子节点是黑色空节点，中间红黑交替，除叶子节点外其他不能连续红或黑，任意节点到叶子节点黑色节点数量一样；
​			查找时候：是和二叉树一样
​			插入时候：从根节点一层层比较，找到适合插入的位置（默认红色节点），然后根据二叉树规则进行自平衡
​			有缺陷，插入时候会频繁调整，效率较低；但查找效率高
​		
​		应用:TreeMap、TreeSet,java 8 HashMap

### 2.B树、B+树、B*、R树

​	资料（图解部分有用）：
​		https://blog.csdn.net/guoziqing506/article/details/64122287
​		https://www.cnblogs.com/xiaoxi/p/6868087.html
​		https://www.nowcoder.com/discuss/5772
​		https://www.kancloud.cn/kancloud/theory-of-mysql-index/41844
​		https://blog.csdn.net/v_july_v/article/details/6530142
​	**B树（B-树）：**为实现高效的数据存取而设计的多叉平衡搜索树。每个节点可以有多个key，插入删除操作时，通过分裂提升节点、合并节点方式来自平衡
​		解决问题：当数据量非常大时，二叉查找树的深度过深，效率低，（每访问一个节点，相当于就是进行了一次I/O操作）
​		规则：
​			一个m阶的B树
​			① 树中每个结点至多有m棵子树，子树的个数总比关键字个数多1个；
​			② 根结点至少有两棵子树；
​			③ 除根结点之外 ，每个结点至少有 m/2棵子树；
​			④ 所有叶结点都出现在同一层上 ；	

 	**B+树：**
		规则：
			① 树中 每个结点至多有 m 棵子树，其中每个关键字对应一个子树...
			② 所有的叶子节点包含了全部的关键字，及含指向这些关键字记录的指针，且叶子节点本身根据关键字自小而大顺序连接
			③ 非叶子节点可以看成索引部分，节点中仅含有其子树（根节点）中的最大（或最小）关键字

​	**B*树：**
​		线索化B+树，非根和非叶子结点再增加指向兄弟（同一级）的指针；

>
> ​	比较：
> ​		1.B+树的磁盘读写代价更低 ：B+树内部节点没有包含对应数据指针，占用空间小，同样大小磁块能容下更多关键字；树的高度度更低，查找次数少
> ​		2.B+树的查询效率更加稳定 ：每次都会查到叶子节点结束。
> ​		3.B+树更有利于对数据库的扫描 ：叶子节点包含了所有关键字，且叶子节点本身根据关键字自小而大顺序连接

> ​	区别：
> ​		1.内部节点中，B+树子树个数 = 关键字个数；B树子树个数 = 关键字个数 + 1；
> ​		2.B+树内部节点只当索引，不包含指向文件的指针，所有叶子节点包含所有关键字和指针；B树内部节点包含指向文件的指针。
> ​		3.B+在搜索过程中，如果查询和内部节点的关键字一致，那么搜索过程不停止，而 是继续向下搜索这个分支，B+为了找到这个关键字的指针。

### 44.MyISAM与InnoDB存储引擎的一个重要区别

​	资料：https://blog.csdn.net/zhangliangzi/article/details/51366345
​	**MyISAM：B+树索引，非聚簇索引**
​		MyISAM引擎索引结构的叶子节点的数据域，存放的并不是实际的数据记录，而是数据记录的地址。索引文件与数据文件分离，这样的索引称为“非聚簇索引”。MyISAM的主索引与辅助索引区别并不大，只是主键索引不能有重复的关键字。
​	

​     **InnoDB：B+树索引，聚簇索引**
​		InnoDB引擎索引结构的叶子节点的数据域，存放的就是实际的数据记录（对于主索引，此处会存放表中所有的数据记录；对于辅助索引此处会引用主键，检索的时候通过主键索引中找到对应数据行），或者说，InnoDB的数据文件本身就是主键索引文件，这样的索引被称为“聚簇索引”，一个表只能有一个聚簇索引。

​	**其他：**
​		Hash索引、Full-Text索引（全文索引）

> 主要区别:
> 	1）事务安全：MyISAM非事务安全，InnoDB事务安全
> 	2）锁级别：MyISAM表锁，InnoDB行锁
> 	3）全文索引：MyISAM支持，InnoDB不支持
> 	4）索引：MyISAM非聚簇索引，InnoDB聚簇索引
> 	5）速度：MyISAM批量insert、update更快，因为表锁取锁频率低。
>
> 选择：一般默认频繁InnoDB；批量insert、update，单行变更少的，不考虑事务安全的，可选MyISAM。