### 1.事务的特性和隔离级别

​	事务特性：acid
​	隔离级别：读已提交，读未提交、可重复度、序列化	

### 2.索引的优缺点

​	优点：
​		1）加快检索速度
​		2）加速表连接，加速分组和排序
​		3）主键索引、唯一索引保证数据的唯一性

​	缺点：
​		1）时间：表写操作减慢，因为创建和维护需要时间，并且耗费时间会随着数据量增加而增加
​		2）空间：索引需要额外占用物理空间，因为索引也是数据

### 3.分库分表垂直拆分缺点：	

​	1）单机的acid被打破，有分布式事务问题
​	2）join操作变得比较困难，需要逻辑上操作解决
​	3）拆分列定义比较困难，哪些字段应该放哪张表。
​	

### 4.分库分表水平拆分缺点：

​	1）分表索引键的选取困难，查找条件未带分表索引键还是需要逐个表的扫描
​	2）主键和唯一索引的问题，如果主键生成规则设定不好，可能会重复。

### 5.binlog延迟问题解决方案

​	资料：https://www.cnblogs.com/phpper/p/8904169.html
​		https://blog.csdn.net/hao_yunfeng/article/details/82392261
​	过程：从库同步binlog，对操作进行重放
​		1）主库对所有DDL和DML操作产生的日志写进binlog；
​		2） 从库会有一个I/O 线程去请求主库的binlog，
​		3）主库生成一个 log dump 线程，用来处理从库I/O线程的binlog读取请求；
​		4）从库读取成功后，将得到的binlog日志写到relay log文件中；
​		5）从库的SQL Thread会读取relay log文件中的日志解析成具体操作，将主库的DDL和DML操作事件重放。

​	**问题：**

	1. 主库宕机后，数据可能丢失；
		默认是异步复制
		开启半同步复制，确保主库事务提交后binlog至少传输到一个从库，不保证从库应用完成这个事务的binlog。

2. 主从同步延迟。（Master负载过高、Slave负载过高、网络延迟、机器性能太低、MySQL配置不合理。）
	1)、架构方面（架构调整）
		1.分库：业务的持久化层的实现采用分库架构，把大库拆成小库，mysql服务可平行扩展，分散压力。
		2.读写分离：单个库读写分离，一主多从，主写从读，分散压力。这样从库压力比主库高，保护主库。比较重要的业务，实时性高的去读主库，像补偿型的去读从库。
		3.缓存：服务的基础架构在业务和mysql之间加入memcache或者redis的cache层。卸掉mysql的大部分读压力。
		4.分开部署：不同业务的mysql物理上放在不同机器，分散压力。
		5.硬件配置：使用比主库更好的硬件设备作为slave总结，mysql压力小，延迟自然会变小。
	2)、硬件方面（选配性能更好的配置）
		1.cpu：采用好服务器，比如4u比2u性能明显好，2u比1u性能明显好。
		2.磁盘：存储用ssd或者盘阵或者san，提升随机写的性能。
		3.网络：主从间保证处在同一个交换机下面，并且是万兆环境。
		总结，硬件强劲，延迟自然会变小。一句话，缩小延迟的解决方案就是花钱和花时间。
	3)、mysql主从同步加速
		1、sync_binlog在slave端设置为0
		2、–logs-slave-updates 从服务器从主服务器接收到的更新不记入它的二进制日志。
		3、直接禁用slave端的binlog
		4、slave端，如果使用的存储引擎是innodb，innodb_flush_log_at_trx_commit =2
	4)、从文件系统本身属性角度优化
	5)、网络优化，走专线

### 6.为什么不用存储过程

​	1.移植性差：不同数据库存储过程语法相差很大
​	2.功能有限：数据库脚本语言功能有限，无法定义数组，集合等数据类型
​	3.编程模式：面向业务编程，而不要面向数据编程
​	4.调试：调试功能不强
​		




	